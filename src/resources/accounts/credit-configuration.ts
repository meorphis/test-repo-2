Ly8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0
YWlubGVzcy4KCmltcG9ydCAqIGFzIENvcmUgZnJvbSAnbWVvcnBoaXMtdGVz
dC00L2NvcmUnOwppbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gJ21lb3Jw
aGlzLXRlc3QtNC9yZXNvdXJjZSc7CmltcG9ydCB7IGlzUmVxdWVzdE9wdGlv
bnMgfSBmcm9tICdtZW9ycGhpcy10ZXN0LTQvY29yZSc7CmltcG9ydCAqIGFz
IENyZWRpdENvbmZpZ3VyYXRpb25BUEkgZnJvbSAnbWVvcnBoaXMtdGVzdC00
L3Jlc291cmNlcy9hY2NvdW50cy9jcmVkaXQtY29uZmlndXJhdGlvbic7Cgpl
eHBvcnQgY2xhc3MgQ3JlZGl0Q29uZmlndXJhdGlvbiBleHRlbmRzIEFQSVJl
c291cmNlIHsKICAvKioKICAgKiBHZXQgYW4gQWNjb3VudCdzIGNyZWRpdCBj
b25maWd1cmF0aW9uCiAgICovCiAgcmV0cmlldmUoYWNjb3VudFRva2VuOiBz
dHJpbmcsIG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zKTogQ29yZS5B
UElQcm9taXNlPEJ1c2luZXNzYWNjb3VudD4gewogICAgcmV0dXJuIHRoaXMu
X2NsaWVudC5nZXQoYC9hY2NvdW50cy8ke2FjY291bnRUb2tlbn0vY3JlZGl0
X2NvbmZpZ3VyYXRpb25gLCBvcHRpb25zKTsKICB9CgogIC8qKgogICAqIFVw
ZGF0ZSBhIEJ1c2luZXNzIEFjY291bnRzIGNyZWRpdCBjb25maWd1cmF0aW9u
CiAgICovCiAgdXBkYXRlKAogICAgYWNjb3VudFRva2VuOiBzdHJpbmcsCiAg
ICBib2R5PzogQ3JlZGl0Q29uZmlndXJhdGlvblVwZGF0ZVBhcmFtcywKICAg
IG9wdGlvbnM/OiBDb3JlLlJlcXVlc3RPcHRpb25zLAogICk6IENvcmUuQVBJ
UHJvbWlzZTxCdXNpbmVzc2FjY291bnQ+OwogIHVwZGF0ZShhY2NvdW50VG9r
ZW46IHN0cmluZywgb3B0aW9ucz86IENvcmUuUmVxdWVzdE9wdGlvbnMpOiBD
b3JlLkFQSVByb21pc2U8QnVzaW5lc3NhY2NvdW50PjsKICB1cGRhdGUoCiAg
ICBhY2NvdW50VG9rZW46IHN0cmluZywKICAgIGJvZHk6IENyZWRpdENvbmZp
Z3VyYXRpb25VcGRhdGVQYXJhbXMgfCBDb3JlLlJlcXVlc3RPcHRpb25zID0g
e30sCiAgICBvcHRpb25zPzogQ29yZS5SZXF1ZXN0T3B0aW9ucywKICApOiBD
b3JlLkFQSVByb21pc2U8QnVzaW5lc3NhY2NvdW50PiB7CiAgICBpZiAoaXNS
ZXF1ZXN0T3B0aW9ucyhib2R5KSkgewogICAgICByZXR1cm4gdGhpcy51cGRh
dGUoYWNjb3VudFRva2VuLCB7fSwgYm9keSk7CiAgICB9CiAgICByZXR1cm4g
dGhpcy5fY2xpZW50LnBhdGNoKGAvYWNjb3VudHMvJHthY2NvdW50VG9rZW59
L2NyZWRpdF9jb25maWd1cmF0aW9uYCwgeyBib2R5LCAuLi5vcHRpb25zIH0p
OwogIH0KfQoKZXhwb3J0IGludGVyZmFjZSBCdXNpbmVzc2FjY291bnQgewog
IC8qKgogICAqIEFjY291bnQgdG9rZW4KICAgKi8KICB0b2tlbjogc3RyaW5n
OwoKICBjb2xsZWN0aW9uc19jb25maWd1cmF0aW9uPzogQnVzaW5lc3NhY2Nv
dW50LkNvbGxlY3Rpb25zQ29uZmlndXJhdGlvbjsKCiAgLyoqCiAgICogQ3Jl
ZGl0IGxpbWl0IGV4dGVuZGVkIHRvIHRoZSBBY2NvdW50CiAgICovCiAgY3Jl
ZGl0X2xpbWl0PzogbnVtYmVyOwp9CgpleHBvcnQgbmFtZXNwYWNlIEJ1c2lu
ZXNzYWNjb3VudCB7CiAgZXhwb3J0IGludGVyZmFjZSBDb2xsZWN0aW9uc0Nv
bmZpZ3VyYXRpb24gewogICAgLyoqCiAgICAgKiBOdW1iZXIgb2YgZGF5cyB3
aXRoaW4gdGhlIGJpbGxpbmcgcGVyaW9kCiAgICAgKi8KICAgIGJpbGxpbmdf
cGVyaW9kOiBudW1iZXI7CgogICAgLyoqCiAgICAgKiBOdW1iZXIgb2YgZGF5
cyBhZnRlciB0aGUgYmlsbGluZyBwZXJpb2QgZW5kcyB0aGF0IGEgcGF5bWVu
dCBpcyByZXF1aXJlZAogICAgICovCiAgICBwYXltZW50X3BlcmlvZDogbnVt
YmVyOwoKICAgIC8qKgogICAgICogVGhlIGV4dGVybmFsIGJhbmsgYWNjb3Vu
dCB0b2tlbiB0byB1c2UgZm9yIGF1dG8tY29sbGVjdGlvbnMKICAgICAqLwog
ICAgZXh0ZXJuYWxfYmFua19hY2NvdW50X3Rva2VuPzogc3RyaW5nOwogIH0K
fQoKZXhwb3J0IGludGVyZmFjZSBDcmVkaXRDb25maWd1cmF0aW9uVXBkYXRl
UGFyYW1zIHsKICAvKioKICAgKiBOdW1iZXIgb2YgZGF5cyB3aXRoaW4gdGhl
IGJpbGxpbmcgcGVyaW9kCiAgICovCiAgYmlsbGluZ19wZXJpb2Q/OiBudW1i
ZXI7CgogIC8qKgogICAqIENyZWRpdCBsaW1pdCBleHRlbmRlZCB0byB0aGUg
QnVzaW5lc3MgQWNjb3VudAogICAqLwogIGNyZWRpdF9saW1pdD86IG51bWJl
cjsKCiAgLyoqCiAgICogVGhlIGV4dGVybmFsIGJhbmsgYWNjb3VudCB0b2tl
biB0byB1c2UgZm9yIGF1dG8tY29sbGVjdGlvbnMKICAgKi8KICBleHRlcm5h
bF9iYW5rX2FjY291bnRfdG9rZW4/OiBzdHJpbmc7CgogIC8qKgogICAqIE51
bWJlciBvZiBkYXlzIGFmdGVyIHRoZSBiaWxsaW5nIHBlcmlvZCBlbmRzIHRo
YXQgYSBwYXltZW50IGlzIHJlcXVpcmVkCiAgICovCiAgcGF5bWVudF9wZXJp
b2Q/OiBudW1iZXI7Cn0KCmV4cG9ydCBuYW1lc3BhY2UgQ3JlZGl0Q29uZmln
dXJhdGlvbiB7CiAgZXhwb3J0IGltcG9ydCBCdXNpbmVzc2FjY291bnQgPSBD
cmVkaXRDb25maWd1cmF0aW9uQVBJLkJ1c2luZXNzYWNjb3VudDsKICBleHBv
cnQgaW1wb3J0IENyZWRpdENvbmZpZ3VyYXRpb25VcGRhdGVQYXJhbXMgPSBD
cmVkaXRDb25maWd1cmF0aW9uQVBJLkNyZWRpdENvbmZpZ3VyYXRpb25VcGRh
dGVQYXJhbXM7Cn0K
